---
import Navbar from '../components/Navbar.astro';
import Head from '../components/Head.astro';
import BannerWithSearch from '../components/BannerWithSearch.astro';
import Footer from '../components/Footer.astro';
import ListingItem from '../components/ListingItem.astro';
import listings from '../data/db.json';

const randomListings = listings.sort(() => 0.5 - Math.random()).slice(0, 2);
---

<html lang="en">
	<Head title="Home"/>
	<body class="bg-gray-200">
		<div class="h-dvh flex flex-col">
			<Navbar/>
			<BannerWithSearch/>
		</div>
		<div class="container mx-auto p-6">
			<h1 class="text-3xl font-bold text-center mb-8">The Best Properties</h1>
			<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
				{randomListings.map(listing => (
					<ListingItem
						id={listing.id}
						rentOrBuy={listing.rentOrBuy}
						title={listing.name}
						image={listing.image}
						price={listing.price}
						category={listing.type}
						desc={listing.desc}
						size={listing.size}
						bedrooms={listing.bedrooms}
					/>
				))}
			</div>
		</div>
		
		<div class="h-10"></div>
		<Footer/>
	</body>
</html>
